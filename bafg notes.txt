###############################################################################

Format of .txt files

Two newlines in a row (i.e. a blank line) is a paragraph division: <p/>

Image links:

{[img].jpg} is replaced with a thumbnail of the image and a link to the
full-size image.

{jpgs} is replaced with all images that start with the page's name.

{[page]:[img].jpg} is replaced with a thumbnail of the image and a link
to the page.

{https://calphotos.berkeley.edu/[...]} is replaced with a blank
thumbnail-sized box that links to the named page.  If the page is
followed by '|[text]', the text is put inside the box.

If a jpg or calphotos link starts a paragraph that has additional
elements in it, all such elements (including free text) is put in a
flexbox and centered vertically with respect to each other.

Page links:

{[page]} is replaced with a link to the page.  This does not create a
parent-child page relationship.  If I don't have a corresponding page,
and the page name looks like a scientific name, link to CalFlora instead.

{[common name]:[scientific name]} links to CalFlora with both names.

{child:[page]} is replaced with a link to the page.  This also records
a relationship between the parent (the current page) and the child (the
linked page).

{+[page]} is replaced with two links to the page.  The first link is
from a thumbnail of the first flower associated with the page.  The
second link is from the name of the page (common name + scientific name).
A parent-child relationship is also recorded.

Other:

{sci} is replaced with the flower's scientific name.

{obs} is replaced with the iNaturalist observation count and linked to
the matching observations on iNaturalist.

{-
[list items
-}
is replaced with proper HTML list syntax, i.e. surrounded by <ul>...</ul>,
with each line also surrounded by <li>...</li>.
A sublist can be included, but must use <ul> and </ul>, each on a line
by itself.

###############################################################################

An easy method to search would be nice.
  I.e. a search bar on every page would be easier than
  opening all.html, hitting the hamburger, and using find in page.

https://medium.com/outsystems-experts/javascript-events-unmasked-how-to-create-an-input-mask-for-mobile-fc0df165e8b2

var input = document.getElementById('credit-card-mask'),
    oldValue,
    keydownHandler= function(e) {
      oldValue = e.target.value;
    },
    inputHandler= function(e) {
      var el = e.target,
          newValue = el.value
      ;
    }
;

input.addEventListener('keydown', keydownHandler);
input.addEventListener('input', inputHandler);

###############################################################################

Make separate pages (and links) for flower lists (by color and "all")
with names only (for bandwidth saving) and photos only (for fast skimming).

Add links at the top of primary color pages to secondary color anchors.

Consistently display both the common name and scientific name on
container pages.

Allow genus names to be attached to container pages.
  e.g. sci.yaml associates common name to genus name.
  list scientific name as "{Genus} spp."
  include scientific name on list pages (or maybe it does already)
  link to iNaturalist using ?search_on=names&q={genus}
  link to CalFlora & Jepson eFlora the usual way
  don't link to CalPhotos because it doesn't work and wouldn't be useful
  include scientific name on backlink from children?
  if the scientific name is not specified, then
    disable the current behavior of including observation counts and
    external links at the bottom of the page.
  (and fix baby blue eyes container page)

if a grandparent links to a parent, and the parent doesn't have its own jpg,
   use its first child's jpg.  (I.e. when determining parent-child
   relationships, also update flower_jpg_list.)

it would be nice to attach colors to individual jpgs of a flower,
  e.g. for baby blue eyes (N. menziesii).

###############################################################################

Enhance {child:...} links to automatically include the primary child
image when desired.  This either requires processing pages child pages
first or determining the primary image automatically from the filename
(e.g. by sorting).

Should child image links load the full-size photo or the child's page?
Probably the latter.  Which means that existing child images and links
must be updated.

Proposed:
  {+img:...} invokes only the selected image, linked to the child.
  {+name:...} invokes only the name, linked to the child.
  {+...} invokes both the primary image and the name, linked to the child.

It'd be nice to split the img and text onto separate lines on small
screens only, e.g. for ceanothus.
  e.g. create photo-box-split with @media condition:
    for small screens change "display: flex;" to "display: block;"
I'm not sure it's possible to leave the child name on the img line and
  drop out the remaining lines.  They're currently all in one span.
  Making it two spans puts them in separate columns.

Proposed:
  {-...}

###############################################################################

Note differences between mallows and checkermallows.
